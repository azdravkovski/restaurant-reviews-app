var refreshing;navigator.serviceWorker.register("./sw.js").then(e=>{console.log("Registered service worker."),navigator.serviceWorker.controller&&(e.waiting&&navigator.serviceWorker.controller.postMessage({action:"skipWaiting"}),e.installing&&navigator.serviceWorker.addEventListener("statechange",()=>{"installed"==navigator.serviceWorker.controller.state&&navigator.serviceWorker.controller.postMessage({action:"skipWaiting"})}),e.addEventListener("updatefound",()=>{navigator.serviceWorker.addEventListener("statechange",()=>{"installed"==navigator.serviceWorker.controller.state&&navigator.serviceWorker.controller.postMessage({action:"skipWaiting"})})}))}).catch(()=>{console.log("Failed to register service worker")}),navigator.serviceWorker.addEventListener("controllerchange",()=>{refreshing||(window.location.reload(),refreshing=!0)}),navigator.serviceWorker.ready.then(e=>e.sync.register("first-sync"));